{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport Button, { ButtonPrimary, ButtonDanger } from '../deprecated/Button';\nimport Box from '../Box';\nimport { get } from '../constants';\nimport { useOnEscapePress, useProvidedRefOrCreate } from '../hooks';\nimport { useFocusTrap } from '../hooks/useFocusTrap';\nimport sx from '../sx';\nimport StyledOcticon from '../StyledOcticon';\nimport { XIcon } from '@primer/octicons-react';\nimport { useFocusZone } from '../hooks/useFocusZone';\nimport { FocusKeys } from '@primer/behaviors';\nimport Portal from '../Portal';\nimport { useCombinedRefs } from '../hooks/useCombinedRefs';\nimport { useSSRSafeId } from '@react-aria/ssr';\nconst ANIMATION_DURATION = '200ms';\n/**\n * Props that characterize a button to be rendered into the footer of\n * a Dialog.\n */\n\nconst Backdrop = styled('div').withConfig({\n  displayName: \"Dialog__Backdrop\",\n  componentId: \"sc-uaxjsn-0\"\n})([\"position:fixed;top:0;left:0;bottom:0;right:0;display:flex;align-items:center;justify-content:center;background-color:rgba(0,0,0,0.4);animation:dialog-backdrop-appear \", \" \", \";@keyframes dialog-backdrop-appear{0%{opacity:0;}100%{opacity:1;}}\"], ANIMATION_DURATION, get('animation.easeOutCubic'));\nconst heightMap = {\n  small: '480px',\n  large: '640px',\n  auto: 'auto'\n};\nconst widthMap = {\n  small: '296px',\n  medium: '320px',\n  large: '480px',\n  xlarge: '640px'\n};\nconst StyledDialog = styled.div.withConfig({\n  displayName: \"Dialog__StyledDialog\",\n  componentId: \"sc-uaxjsn-1\"\n})([\"display:flex;flex-direction:column;background-color:\", \";box-shadow:\", \";min-width:296px;max-width:calc(100vw - 64px);max-height:calc(100vh - 64px);width:\", \";height:\", \";border-radius:12px;opacity:1;animation:overlay--dialog-appear \", \" \", \";@keyframes overlay--dialog-appear{0%{opacity:0;transform:scale(0.5);}100%{opacity:1;transform:scale(1);}}\", \";\"], get('colors.canvas.overlay'), get('shadows.overlay.shadow'), props => {\n  var _props$width;\n\n  return widthMap[(_props$width = props.width) !== null && _props$width !== void 0 ? _props$width : 'xlarge'];\n}, props => {\n  var _props$height;\n\n  return heightMap[(_props$height = props.height) !== null && _props$height !== void 0 ? _props$height : 'auto'];\n}, ANIMATION_DURATION, get('animation.easeOutCubic'), sx);\n\nconst DefaultHeader = _ref => {\n  let {\n    dialogLabelId,\n    title,\n    subtitle,\n    dialogDescriptionId,\n    onClose\n  } = _ref;\n  const onCloseClick = useCallback(() => {\n    onClose('close-button');\n  }, [onClose]);\n  return /*#__PURE__*/React.createElement(Dialog.Header, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    px: 2,\n    py: \"6px\",\n    flexDirection: \"column\",\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(Dialog.Title, {\n    id: dialogLabelId\n  }, title !== null && title !== void 0 ? title : 'Dialog'), subtitle && /*#__PURE__*/React.createElement(Dialog.Subtitle, {\n    id: dialogDescriptionId\n  }, subtitle)), /*#__PURE__*/React.createElement(Dialog.CloseButton, {\n    onClose: onCloseClick\n  })));\n};\n\nDefaultHeader.displayName = \"DefaultHeader\";\n\nconst DefaultBody = _ref2 => {\n  let {\n    children\n  } = _ref2;\n  return /*#__PURE__*/React.createElement(Dialog.Body, null, children);\n};\n\nDefaultBody.displayName = \"DefaultBody\";\n\nconst DefaultFooter = _ref3 => {\n  let {\n    footerButtons\n  } = _ref3;\n  const {\n    containerRef: footerRef\n  } = useFocusZone({\n    bindKeys: FocusKeys.ArrowHorizontal | FocusKeys.Tab,\n    focusInStrategy: 'closest'\n  });\n  return footerButtons ? /*#__PURE__*/React.createElement(Dialog.Footer, {\n    ref: footerRef\n  }, /*#__PURE__*/React.createElement(Dialog.Buttons, {\n    buttons: footerButtons\n  })) : null;\n};\n\nconst _Dialog = /*#__PURE__*/React.forwardRef((props, forwardedRef) => {\n  const {\n    title = 'Dialog',\n    subtitle = '',\n    renderHeader,\n    renderBody,\n    renderFooter,\n    onClose,\n    role = 'dialog',\n    width = 'xlarge',\n    height = 'auto',\n    footerButtons = []\n  } = props;\n  const dialogLabelId = useSSRSafeId();\n  const dialogDescriptionId = useSSRSafeId();\n  const autoFocusedFooterButtonRef = useRef(null);\n\n  for (const footerButton of footerButtons) {\n    if (footerButton.autoFocus) {\n      footerButton.ref = autoFocusedFooterButtonRef;\n    }\n  }\n\n  const defaultedProps = { ...props,\n    title,\n    subtitle,\n    role,\n    dialogLabelId,\n    dialogDescriptionId\n  };\n  const dialogRef = useRef(null);\n  const combinedRef = useCombinedRefs(dialogRef, forwardedRef);\n  const backdropRef = useRef(null);\n  useFocusTrap({\n    containerRef: dialogRef,\n    restoreFocusOnCleanUp: true,\n    initialFocusRef: autoFocusedFooterButtonRef\n  });\n  useOnEscapePress(event => {\n    onClose('escape');\n    event.preventDefault();\n  }, [onClose]);\n  const header = (renderHeader !== null && renderHeader !== void 0 ? renderHeader : DefaultHeader)(defaultedProps);\n  const body = (renderBody !== null && renderBody !== void 0 ? renderBody : DefaultBody)(defaultedProps);\n  const footer = (renderFooter !== null && renderFooter !== void 0 ? renderFooter : DefaultFooter)(defaultedProps);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Portal, null, /*#__PURE__*/React.createElement(Backdrop, {\n    ref: backdropRef\n  }, /*#__PURE__*/React.createElement(StyledDialog, {\n    width: width,\n    height: height,\n    ref: combinedRef,\n    role: role,\n    \"aria-labelledby\": dialogLabelId,\n    \"aria-describedby\": dialogDescriptionId\n  }, header, body, footer))));\n});\n\n_Dialog.displayName = 'Dialog';\nconst Header = styled.div.attrs({\n  as: 'header'\n}).withConfig({\n  displayName: \"Dialog__Header\",\n  componentId: \"sc-uaxjsn-2\"\n})([\"box-shadow:0 1px 0 \", \";padding:\", \";z-index:1;flex-shrink:0;\"], get('colors.border.default'), get('space.2'));\nconst Title = styled.h1.withConfig({\n  displayName: \"Dialog__Title\",\n  componentId: \"sc-uaxjsn-3\"\n})([\"font-size:\", \";font-weight:\", \";margin:0;\", \";\"], get('fontSizes.1'), get('fontWeights.bold'), sx);\nconst Subtitle = styled.h2.withConfig({\n  displayName: \"Dialog__Subtitle\",\n  componentId: \"sc-uaxjsn-4\"\n})([\"font-size:\", \";color:\", \";margin:0;margin-top:\", \";\", \";\"], get('fontSizes.0'), get('colors.fg.muted'), get('space.1'), sx);\nconst Body = styled.div.withConfig({\n  displayName: \"Dialog__Body\",\n  componentId: \"sc-uaxjsn-5\"\n})([\"flex-grow:1;overflow:auto;padding:\", \";\", \";\"], get('space.3'), sx);\nconst Footer = styled.div.attrs({\n  as: 'footer'\n}).withConfig({\n  displayName: \"Dialog__Footer\",\n  componentId: \"sc-uaxjsn-6\"\n})([\"box-shadow:0 -1px 0 \", \";padding:\", \";display:flex;flex-flow:wrap;justify-content:flex-end;z-index:1;flex-shrink:0;button{margin-left:\", \";&:first-child{margin-left:0;}}\", \";\"], get('colors.border.default'), get('space.3'), get('space.1'), sx);\nconst buttonTypes = {\n  normal: Button,\n  primary: ButtonPrimary,\n  danger: ButtonDanger\n};\n\nconst Buttons = _ref4 => {\n  let {\n    buttons\n  } = _ref4;\n\n  var _buttons$find;\n\n  const autoFocusRef = useProvidedRefOrCreate((_buttons$find = buttons.find(button => button.autoFocus)) === null || _buttons$find === void 0 ? void 0 : _buttons$find.ref);\n  let autoFocusCount = 0;\n  const [hasRendered, setHasRendered] = useState(0);\n  useEffect(() => {\n    // hack to work around dialogs originating from other focus traps.\n    if (hasRendered === 1) {\n      var _autoFocusRef$current;\n\n      (_autoFocusRef$current = autoFocusRef.current) === null || _autoFocusRef$current === void 0 ? void 0 : _autoFocusRef$current.focus();\n    } else {\n      setHasRendered(hasRendered + 1);\n    }\n  }, [autoFocusRef, hasRendered]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, buttons.map((dialogButtonProps, index) => {\n    const {\n      content,\n      buttonType = 'normal',\n      autoFocus = false,\n      ...buttonProps\n    } = dialogButtonProps;\n    const ButtonElement = buttonTypes[buttonType];\n    return /*#__PURE__*/React.createElement(ButtonElement, _extends({\n      key: index\n    }, buttonProps, {\n      variant: buttonType,\n      ref: autoFocus && autoFocusCount === 0 ? (autoFocusCount++, autoFocusRef) : null\n    }), content);\n  }));\n};\n\nconst DialogCloseButton = styled(Button).withConfig({\n  displayName: \"Dialog__DialogCloseButton\",\n  componentId: \"sc-uaxjsn-7\"\n})([\"border-radius:4px;background:transparent;border:0;vertical-align:middle;color:\", \";padding:\", \";align-self:flex-start;line-height:normal;box-shadow:none;\"], get('colors.fg.muted'), get('space.2'));\n\nconst CloseButton = _ref5 => {\n  let {\n    onClose\n  } = _ref5;\n  return /*#__PURE__*/React.createElement(DialogCloseButton, {\n    \"aria-label\": \"Close\",\n    onClick: onClose\n  }, /*#__PURE__*/React.createElement(StyledOcticon, {\n    icon: XIcon\n  }));\n};\n\nCloseButton.displayName = \"CloseButton\";\n/**\n * A dialog is a type of overlay that can be used for confirming actions, asking\n * for disambiguation, and presenting small forms. They generally allow the user\n * to focus on a quick task without having to navigate to a different page.\n *\n * Dialogs appear in the page after a direct user interaction. Don't show dialogs\n * on page load or as system alerts.\n *\n * Dialogs appear centered in the page, with a visible backdrop that dims the rest\n * of the window for focus.\n *\n * All dialogs have a title and a close button.\n *\n * Dialogs are modal. Dialogs can be dismissed by clicking on the close button,\n * pressing the escape key, or by interacting with another button in the dialog.\n * To avoid losing information and missing important messages, clicking outside\n * of the dialog will not close it.\n *\n * The sub components provided (e.g. Header, Title, etc.) are available for custom\n * renderers only. They are not intended to be used otherwise.\n */\n\nexport const Dialog = Object.assign(_Dialog, {\n  Header,\n  Title,\n  Subtitle,\n  Body,\n  Footer,\n  Buttons,\n  CloseButton\n});","map":{"version":3,"sources":["/Users/steve/Documents/repos/github-notifications/node_modules/@primer/react/lib-esm/Dialog/Dialog.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","useCallback","useEffect","useRef","useState","styled","Button","ButtonPrimary","ButtonDanger","Box","get","useOnEscapePress","useProvidedRefOrCreate","useFocusTrap","sx","StyledOcticon","XIcon","useFocusZone","FocusKeys","Portal","useCombinedRefs","useSSRSafeId","ANIMATION_DURATION","Backdrop","withConfig","displayName","componentId","heightMap","small","large","auto","widthMap","medium","xlarge","StyledDialog","div","props","_props$width","width","_props$height","height","DefaultHeader","dialogLabelId","title","subtitle","dialogDescriptionId","onClose","onCloseClick","createElement","Dialog","Header","display","px","py","flexDirection","flexGrow","Title","id","Subtitle","CloseButton","DefaultBody","children","Body","DefaultFooter","footerButtons","containerRef","footerRef","bindKeys","ArrowHorizontal","Tab","focusInStrategy","Footer","ref","Buttons","buttons","_Dialog","forwardRef","forwardedRef","renderHeader","renderBody","renderFooter","role","autoFocusedFooterButtonRef","footerButton","autoFocus","defaultedProps","dialogRef","combinedRef","backdropRef","restoreFocusOnCleanUp","initialFocusRef","event","preventDefault","header","body","footer","Fragment","attrs","as","h1","h2","buttonTypes","normal","primary","danger","_buttons$find","autoFocusRef","find","button","autoFocusCount","hasRendered","setHasRendered","_autoFocusRef$current","current","focus","map","dialogButtonProps","index","content","buttonType","buttonProps","ButtonElement","variant","DialogCloseButton","onClick","icon"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport styled from 'styled-components';\nimport Button, { ButtonPrimary, ButtonDanger } from '../deprecated/Button';\nimport Box from '../Box';\nimport { get } from '../constants';\nimport { useOnEscapePress, useProvidedRefOrCreate } from '../hooks';\nimport { useFocusTrap } from '../hooks/useFocusTrap';\nimport sx from '../sx';\nimport StyledOcticon from '../StyledOcticon';\nimport { XIcon } from '@primer/octicons-react';\nimport { useFocusZone } from '../hooks/useFocusZone';\nimport { FocusKeys } from '@primer/behaviors';\nimport Portal from '../Portal';\nimport { useCombinedRefs } from '../hooks/useCombinedRefs';\nimport { useSSRSafeId } from '@react-aria/ssr';\nconst ANIMATION_DURATION = '200ms';\n/**\n * Props that characterize a button to be rendered into the footer of\n * a Dialog.\n */\n\nconst Backdrop = styled('div').withConfig({\n  displayName: \"Dialog__Backdrop\",\n  componentId: \"sc-uaxjsn-0\"\n})([\"position:fixed;top:0;left:0;bottom:0;right:0;display:flex;align-items:center;justify-content:center;background-color:rgba(0,0,0,0.4);animation:dialog-backdrop-appear \", \" \", \";@keyframes dialog-backdrop-appear{0%{opacity:0;}100%{opacity:1;}}\"], ANIMATION_DURATION, get('animation.easeOutCubic'));\nconst heightMap = {\n  small: '480px',\n  large: '640px',\n  auto: 'auto'\n};\nconst widthMap = {\n  small: '296px',\n  medium: '320px',\n  large: '480px',\n  xlarge: '640px'\n};\nconst StyledDialog = styled.div.withConfig({\n  displayName: \"Dialog__StyledDialog\",\n  componentId: \"sc-uaxjsn-1\"\n})([\"display:flex;flex-direction:column;background-color:\", \";box-shadow:\", \";min-width:296px;max-width:calc(100vw - 64px);max-height:calc(100vh - 64px);width:\", \";height:\", \";border-radius:12px;opacity:1;animation:overlay--dialog-appear \", \" \", \";@keyframes overlay--dialog-appear{0%{opacity:0;transform:scale(0.5);}100%{opacity:1;transform:scale(1);}}\", \";\"], get('colors.canvas.overlay'), get('shadows.overlay.shadow'), props => {\n  var _props$width;\n\n  return widthMap[(_props$width = props.width) !== null && _props$width !== void 0 ? _props$width : 'xlarge'];\n}, props => {\n  var _props$height;\n\n  return heightMap[(_props$height = props.height) !== null && _props$height !== void 0 ? _props$height : 'auto'];\n}, ANIMATION_DURATION, get('animation.easeOutCubic'), sx);\n\nconst DefaultHeader = ({\n  dialogLabelId,\n  title,\n  subtitle,\n  dialogDescriptionId,\n  onClose\n}) => {\n  const onCloseClick = useCallback(() => {\n    onClose('close-button');\n  }, [onClose]);\n  return /*#__PURE__*/React.createElement(Dialog.Header, null, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\"\n  }, /*#__PURE__*/React.createElement(Box, {\n    display: \"flex\",\n    px: 2,\n    py: \"6px\",\n    flexDirection: \"column\",\n    flexGrow: 1\n  }, /*#__PURE__*/React.createElement(Dialog.Title, {\n    id: dialogLabelId\n  }, title !== null && title !== void 0 ? title : 'Dialog'), subtitle && /*#__PURE__*/React.createElement(Dialog.Subtitle, {\n    id: dialogDescriptionId\n  }, subtitle)), /*#__PURE__*/React.createElement(Dialog.CloseButton, {\n    onClose: onCloseClick\n  })));\n};\n\nDefaultHeader.displayName = \"DefaultHeader\";\n\nconst DefaultBody = ({\n  children\n}) => {\n  return /*#__PURE__*/React.createElement(Dialog.Body, null, children);\n};\n\nDefaultBody.displayName = \"DefaultBody\";\n\nconst DefaultFooter = ({\n  footerButtons\n}) => {\n  const {\n    containerRef: footerRef\n  } = useFocusZone({\n    bindKeys: FocusKeys.ArrowHorizontal | FocusKeys.Tab,\n    focusInStrategy: 'closest'\n  });\n  return footerButtons ? /*#__PURE__*/React.createElement(Dialog.Footer, {\n    ref: footerRef\n  }, /*#__PURE__*/React.createElement(Dialog.Buttons, {\n    buttons: footerButtons\n  })) : null;\n};\n\nconst _Dialog = /*#__PURE__*/React.forwardRef((props, forwardedRef) => {\n  const {\n    title = 'Dialog',\n    subtitle = '',\n    renderHeader,\n    renderBody,\n    renderFooter,\n    onClose,\n    role = 'dialog',\n    width = 'xlarge',\n    height = 'auto',\n    footerButtons = []\n  } = props;\n  const dialogLabelId = useSSRSafeId();\n  const dialogDescriptionId = useSSRSafeId();\n  const autoFocusedFooterButtonRef = useRef(null);\n\n  for (const footerButton of footerButtons) {\n    if (footerButton.autoFocus) {\n      footerButton.ref = autoFocusedFooterButtonRef;\n    }\n  }\n\n  const defaultedProps = { ...props,\n    title,\n    subtitle,\n    role,\n    dialogLabelId,\n    dialogDescriptionId\n  };\n  const dialogRef = useRef(null);\n  const combinedRef = useCombinedRefs(dialogRef, forwardedRef);\n  const backdropRef = useRef(null);\n  useFocusTrap({\n    containerRef: dialogRef,\n    restoreFocusOnCleanUp: true,\n    initialFocusRef: autoFocusedFooterButtonRef\n  });\n  useOnEscapePress(event => {\n    onClose('escape');\n    event.preventDefault();\n  }, [onClose]);\n  const header = (renderHeader !== null && renderHeader !== void 0 ? renderHeader : DefaultHeader)(defaultedProps);\n  const body = (renderBody !== null && renderBody !== void 0 ? renderBody : DefaultBody)(defaultedProps);\n  const footer = (renderFooter !== null && renderFooter !== void 0 ? renderFooter : DefaultFooter)(defaultedProps);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Portal, null, /*#__PURE__*/React.createElement(Backdrop, {\n    ref: backdropRef\n  }, /*#__PURE__*/React.createElement(StyledDialog, {\n    width: width,\n    height: height,\n    ref: combinedRef,\n    role: role,\n    \"aria-labelledby\": dialogLabelId,\n    \"aria-describedby\": dialogDescriptionId\n  }, header, body, footer))));\n});\n\n_Dialog.displayName = 'Dialog';\nconst Header = styled.div.attrs({\n  as: 'header'\n}).withConfig({\n  displayName: \"Dialog__Header\",\n  componentId: \"sc-uaxjsn-2\"\n})([\"box-shadow:0 1px 0 \", \";padding:\", \";z-index:1;flex-shrink:0;\"], get('colors.border.default'), get('space.2'));\nconst Title = styled.h1.withConfig({\n  displayName: \"Dialog__Title\",\n  componentId: \"sc-uaxjsn-3\"\n})([\"font-size:\", \";font-weight:\", \";margin:0;\", \";\"], get('fontSizes.1'), get('fontWeights.bold'), sx);\nconst Subtitle = styled.h2.withConfig({\n  displayName: \"Dialog__Subtitle\",\n  componentId: \"sc-uaxjsn-4\"\n})([\"font-size:\", \";color:\", \";margin:0;margin-top:\", \";\", \";\"], get('fontSizes.0'), get('colors.fg.muted'), get('space.1'), sx);\nconst Body = styled.div.withConfig({\n  displayName: \"Dialog__Body\",\n  componentId: \"sc-uaxjsn-5\"\n})([\"flex-grow:1;overflow:auto;padding:\", \";\", \";\"], get('space.3'), sx);\nconst Footer = styled.div.attrs({\n  as: 'footer'\n}).withConfig({\n  displayName: \"Dialog__Footer\",\n  componentId: \"sc-uaxjsn-6\"\n})([\"box-shadow:0 -1px 0 \", \";padding:\", \";display:flex;flex-flow:wrap;justify-content:flex-end;z-index:1;flex-shrink:0;button{margin-left:\", \";&:first-child{margin-left:0;}}\", \";\"], get('colors.border.default'), get('space.3'), get('space.1'), sx);\nconst buttonTypes = {\n  normal: Button,\n  primary: ButtonPrimary,\n  danger: ButtonDanger\n};\n\nconst Buttons = ({\n  buttons\n}) => {\n  var _buttons$find;\n\n  const autoFocusRef = useProvidedRefOrCreate((_buttons$find = buttons.find(button => button.autoFocus)) === null || _buttons$find === void 0 ? void 0 : _buttons$find.ref);\n  let autoFocusCount = 0;\n  const [hasRendered, setHasRendered] = useState(0);\n  useEffect(() => {\n    // hack to work around dialogs originating from other focus traps.\n    if (hasRendered === 1) {\n      var _autoFocusRef$current;\n\n      (_autoFocusRef$current = autoFocusRef.current) === null || _autoFocusRef$current === void 0 ? void 0 : _autoFocusRef$current.focus();\n    } else {\n      setHasRendered(hasRendered + 1);\n    }\n  }, [autoFocusRef, hasRendered]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, buttons.map((dialogButtonProps, index) => {\n    const {\n      content,\n      buttonType = 'normal',\n      autoFocus = false,\n      ...buttonProps\n    } = dialogButtonProps;\n    const ButtonElement = buttonTypes[buttonType];\n    return /*#__PURE__*/React.createElement(ButtonElement, _extends({\n      key: index\n    }, buttonProps, {\n      variant: buttonType,\n      ref: autoFocus && autoFocusCount === 0 ? (autoFocusCount++, autoFocusRef) : null\n    }), content);\n  }));\n};\n\nconst DialogCloseButton = styled(Button).withConfig({\n  displayName: \"Dialog__DialogCloseButton\",\n  componentId: \"sc-uaxjsn-7\"\n})([\"border-radius:4px;background:transparent;border:0;vertical-align:middle;color:\", \";padding:\", \";align-self:flex-start;line-height:normal;box-shadow:none;\"], get('colors.fg.muted'), get('space.2'));\n\nconst CloseButton = ({\n  onClose\n}) => {\n  return /*#__PURE__*/React.createElement(DialogCloseButton, {\n    \"aria-label\": \"Close\",\n    onClick: onClose\n  }, /*#__PURE__*/React.createElement(StyledOcticon, {\n    icon: XIcon\n  }));\n};\n\nCloseButton.displayName = \"CloseButton\";\n\n/**\n * A dialog is a type of overlay that can be used for confirming actions, asking\n * for disambiguation, and presenting small forms. They generally allow the user\n * to focus on a quick task without having to navigate to a different page.\n *\n * Dialogs appear in the page after a direct user interaction. Don't show dialogs\n * on page load or as system alerts.\n *\n * Dialogs appear centered in the page, with a visible backdrop that dims the rest\n * of the window for focus.\n *\n * All dialogs have a title and a close button.\n *\n * Dialogs are modal. Dialogs can be dismissed by clicking on the close button,\n * pressing the escape key, or by interacting with another button in the dialog.\n * To avoid losing information and missing important messages, clicking outside\n * of the dialog will not close it.\n *\n * The sub components provided (e.g. Header, Title, etc.) are available for custom\n * renderers only. They are not intended to be used otherwise.\n */\nexport const Dialog = Object.assign(_Dialog, {\n  Header,\n  Title,\n  Subtitle,\n  Body,\n  Footer,\n  Buttons,\n  CloseButton\n});"]},"metadata":{},"sourceType":"module"}