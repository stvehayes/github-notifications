{"ast":null,"code":"import React, { useEffect } from 'react';\nimport { focusZone } from '@primer/behaviors';\nimport { useProvidedRefOrCreate } from './useProvidedRefOrCreate';\nexport { FocusKeys } from '@primer/behaviors';\nexport function useFocusZone() {\n  let settings = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let dependencies = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n  const containerRef = useProvidedRefOrCreate(settings.containerRef);\n  const useActiveDescendant = !!settings.activeDescendantFocus;\n  const passedActiveDescendantRef = typeof settings.activeDescendantFocus === 'boolean' || !settings.activeDescendantFocus ? undefined : settings.activeDescendantFocus;\n  const activeDescendantControlRef = useProvidedRefOrCreate(passedActiveDescendantRef);\n  const disabled = settings.disabled;\n  const abortController = React.useRef();\n  useEffect(() => {\n    if (containerRef.current instanceof HTMLElement && (!useActiveDescendant || activeDescendantControlRef.current instanceof HTMLElement)) {\n      if (!disabled) {\n        var _activeDescendantCont;\n\n        const vanillaSettings = { ...settings,\n          activeDescendantControl: (_activeDescendantCont = activeDescendantControlRef.current) !== null && _activeDescendantCont !== void 0 ? _activeDescendantCont : undefined\n        };\n        abortController.current = focusZone(containerRef.current, vanillaSettings);\n        return () => {\n          var _abortController$curr;\n\n          (_abortController$curr = abortController.current) === null || _abortController$curr === void 0 ? void 0 : _abortController$curr.abort();\n        };\n      } else {\n        var _abortController$curr2;\n\n        (_abortController$curr2 = abortController.current) === null || _abortController$curr2 === void 0 ? void 0 : _abortController$curr2.abort();\n      }\n    }\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [disabled, ...dependencies]);\n  return {\n    containerRef,\n    activeDescendantControlRef\n  };\n}","map":{"version":3,"sources":["/Users/steve/Documents/repos/notifications/node_modules/@primer/react/lib-esm/hooks/useFocusZone.js"],"names":["React","useEffect","focusZone","useProvidedRefOrCreate","FocusKeys","useFocusZone","settings","dependencies","containerRef","useActiveDescendant","activeDescendantFocus","passedActiveDescendantRef","undefined","activeDescendantControlRef","disabled","abortController","useRef","current","HTMLElement","_activeDescendantCont","vanillaSettings","activeDescendantControl","_abortController$curr","abort","_abortController$curr2"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,SAAT,QAA0B,mBAA1B;AACA,SAASC,sBAAT,QAAuC,0BAAvC;AACA,SAASC,SAAT,QAA0B,mBAA1B;AACA,OAAO,SAASC,YAAT,GAAwD;AAAA,MAAlCC,QAAkC,uEAAvB,EAAuB;AAAA,MAAnBC,YAAmB,uEAAJ,EAAI;AAC7D,QAAMC,YAAY,GAAGL,sBAAsB,CAACG,QAAQ,CAACE,YAAV,CAA3C;AACA,QAAMC,mBAAmB,GAAG,CAAC,CAACH,QAAQ,CAACI,qBAAvC;AACA,QAAMC,yBAAyB,GAAG,OAAOL,QAAQ,CAACI,qBAAhB,KAA0C,SAA1C,IAAuD,CAACJ,QAAQ,CAACI,qBAAjE,GAAyFE,SAAzF,GAAqGN,QAAQ,CAACI,qBAAhJ;AACA,QAAMG,0BAA0B,GAAGV,sBAAsB,CAACQ,yBAAD,CAAzD;AACA,QAAMG,QAAQ,GAAGR,QAAQ,CAACQ,QAA1B;AACA,QAAMC,eAAe,GAAGf,KAAK,CAACgB,MAAN,EAAxB;AACAf,EAAAA,SAAS,CAAC,MAAM;AACd,QAAIO,YAAY,CAACS,OAAb,YAAgCC,WAAhC,KAAgD,CAACT,mBAAD,IAAwBI,0BAA0B,CAACI,OAA3B,YAA8CC,WAAtH,CAAJ,EAAwI;AACtI,UAAI,CAACJ,QAAL,EAAe;AACb,YAAIK,qBAAJ;;AAEA,cAAMC,eAAe,GAAG,EAAE,GAAGd,QAAL;AACtBe,UAAAA,uBAAuB,EAAE,CAACF,qBAAqB,GAAGN,0BAA0B,CAACI,OAApD,MAAiE,IAAjE,IAAyEE,qBAAqB,KAAK,KAAK,CAAxG,GAA4GA,qBAA5G,GAAoIP;AADvI,SAAxB;AAGAG,QAAAA,eAAe,CAACE,OAAhB,GAA0Bf,SAAS,CAACM,YAAY,CAACS,OAAd,EAAuBG,eAAvB,CAAnC;AACA,eAAO,MAAM;AACX,cAAIE,qBAAJ;;AAEA,WAACA,qBAAqB,GAAGP,eAAe,CAACE,OAAzC,MAAsD,IAAtD,IAA8DK,qBAAqB,KAAK,KAAK,CAA7F,GAAiG,KAAK,CAAtG,GAA0GA,qBAAqB,CAACC,KAAtB,EAA1G;AACD,SAJD;AAKD,OAZD,MAYO;AACL,YAAIC,sBAAJ;;AAEA,SAACA,sBAAsB,GAAGT,eAAe,CAACE,OAA1C,MAAuD,IAAvD,IAA+DO,sBAAsB,KAAK,KAAK,CAA/F,GAAmG,KAAK,CAAxG,GAA4GA,sBAAsB,CAACD,KAAvB,EAA5G;AACD;AACF;AACF,GApBQ,EAoBN;AACH,GAACT,QAAD,EAAW,GAAGP,YAAd,CArBS,CAAT;AAsBA,SAAO;AACLC,IAAAA,YADK;AAELK,IAAAA;AAFK,GAAP;AAID","sourcesContent":["import React, { useEffect } from 'react';\nimport { focusZone } from '@primer/behaviors';\nimport { useProvidedRefOrCreate } from './useProvidedRefOrCreate';\nexport { FocusKeys } from '@primer/behaviors';\nexport function useFocusZone(settings = {}, dependencies = []) {\n  const containerRef = useProvidedRefOrCreate(settings.containerRef);\n  const useActiveDescendant = !!settings.activeDescendantFocus;\n  const passedActiveDescendantRef = typeof settings.activeDescendantFocus === 'boolean' || !settings.activeDescendantFocus ? undefined : settings.activeDescendantFocus;\n  const activeDescendantControlRef = useProvidedRefOrCreate(passedActiveDescendantRef);\n  const disabled = settings.disabled;\n  const abortController = React.useRef();\n  useEffect(() => {\n    if (containerRef.current instanceof HTMLElement && (!useActiveDescendant || activeDescendantControlRef.current instanceof HTMLElement)) {\n      if (!disabled) {\n        var _activeDescendantCont;\n\n        const vanillaSettings = { ...settings,\n          activeDescendantControl: (_activeDescendantCont = activeDescendantControlRef.current) !== null && _activeDescendantCont !== void 0 ? _activeDescendantCont : undefined\n        };\n        abortController.current = focusZone(containerRef.current, vanillaSettings);\n        return () => {\n          var _abortController$curr;\n\n          (_abortController$curr = abortController.current) === null || _abortController$curr === void 0 ? void 0 : _abortController$curr.abort();\n        };\n      } else {\n        var _abortController$curr2;\n\n        (_abortController$curr2 = abortController.current) === null || _abortController$curr2 === void 0 ? void 0 : _abortController$curr2.abort();\n      }\n    }\n  }, // eslint-disable-next-line react-hooks/exhaustive-deps\n  [disabled, ...dependencies]);\n  return {\n    containerRef,\n    activeDescendantControlRef\n  };\n}"]},"metadata":{},"sourceType":"module"}