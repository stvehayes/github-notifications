{"ast":null,"code":"function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport React, { useCallback, useMemo } from 'react';\nimport { List } from '../ActionList/List';\nimport { DropdownButton } from './DropdownButton';\nimport { AnchoredOverlay } from '../../AnchoredOverlay';\nimport { useProvidedRefOrCreate } from '../../hooks/useProvidedRefOrCreate';\nimport { useProvidedStateOrCreate } from '../../hooks/useProvidedStateOrCreate';\n/**\n * @deprecated Use ActionMenu with ActionList instead. See https://primer.style/react/ActionMenu#with-selection for more details.\n */\n\nexport function DropdownMenu(_ref) {\n  let {\n    renderAnchor = props => /*#__PURE__*/React.createElement(DropdownButton, props),\n    anchorRef: externalAnchorRef,\n    placeholder,\n    selectedItem,\n    onChange,\n    overlayProps,\n    items,\n    open,\n    onOpenChange,\n    ...listProps\n  } = _ref;\n  const [combinedOpenState, setCombinedOpenState] = useProvidedStateOrCreate(open, onOpenChange, false);\n  const onOpen = useCallback(() => setCombinedOpenState(true), [setCombinedOpenState]);\n  const onClose = useCallback(() => setCombinedOpenState(false), [setCombinedOpenState]);\n  const anchorRef = useProvidedRefOrCreate(externalAnchorRef);\n  const renderMenuAnchor = useMemo(() => {\n    if (renderAnchor === null) {\n      return null;\n    }\n\n    return props => {\n      var _selectedItem$text;\n\n      return renderAnchor({ ...props,\n        children: (_selectedItem$text = selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.text) !== null && _selectedItem$text !== void 0 ? _selectedItem$text : placeholder\n      });\n    };\n  }, [placeholder, renderAnchor, selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.text]);\n  const itemsToRender = useMemo(() => {\n    return items.map(item => {\n      return { ...item,\n        role: 'option',\n        selected: item === selectedItem,\n        onAction: (itemFromAction, event) => {\n          var _item$onAction;\n\n          (_item$onAction = item.onAction) === null || _item$onAction === void 0 ? void 0 : _item$onAction.call(item, itemFromAction, event);\n\n          if (event.defaultPrevented) {\n            return;\n          }\n\n          onClose();\n          onChange === null || onChange === void 0 ? void 0 : onChange(item === selectedItem ? undefined : item);\n        }\n      };\n    });\n  }, [items, onChange, onClose, selectedItem]);\n  return /*#__PURE__*/React.createElement(AnchoredOverlay, {\n    renderAnchor: renderMenuAnchor,\n    anchorRef: anchorRef,\n    open: combinedOpenState,\n    onOpen: onOpen,\n    onClose: onClose,\n    overlayProps: overlayProps\n  }, /*#__PURE__*/React.createElement(List, _extends({}, listProps, {\n    role: \"listbox\",\n    items: itemsToRender\n  })));\n}\nDropdownMenu.displayName = \"DropdownMenu\";\nDropdownMenu.displayName = 'DropdownMenu';","map":{"version":3,"sources":["/Users/steve/Documents/repos/notifications/node_modules/@primer/react/lib-esm/deprecated/DropdownMenu/DropdownMenu.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","useCallback","useMemo","List","DropdownButton","AnchoredOverlay","useProvidedRefOrCreate","useProvidedStateOrCreate","DropdownMenu","renderAnchor","props","createElement","anchorRef","externalAnchorRef","placeholder","selectedItem","onChange","overlayProps","items","open","onOpenChange","listProps","combinedOpenState","setCombinedOpenState","onOpen","onClose","renderMenuAnchor","_selectedItem$text","children","text","itemsToRender","map","item","role","selected","onAction","itemFromAction","event","_item$onAction","defaultPrevented","undefined","displayName"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React, { useCallback, useMemo } from 'react';\nimport { List } from '../ActionList/List';\nimport { DropdownButton } from './DropdownButton';\nimport { AnchoredOverlay } from '../../AnchoredOverlay';\nimport { useProvidedRefOrCreate } from '../../hooks/useProvidedRefOrCreate';\nimport { useProvidedStateOrCreate } from '../../hooks/useProvidedStateOrCreate';\n\n/**\n * @deprecated Use ActionMenu with ActionList instead. See https://primer.style/react/ActionMenu#with-selection for more details.\n */\nexport function DropdownMenu({\n  renderAnchor = props => /*#__PURE__*/React.createElement(DropdownButton, props),\n  anchorRef: externalAnchorRef,\n  placeholder,\n  selectedItem,\n  onChange,\n  overlayProps,\n  items,\n  open,\n  onOpenChange,\n  ...listProps\n}) {\n  const [combinedOpenState, setCombinedOpenState] = useProvidedStateOrCreate(open, onOpenChange, false);\n  const onOpen = useCallback(() => setCombinedOpenState(true), [setCombinedOpenState]);\n  const onClose = useCallback(() => setCombinedOpenState(false), [setCombinedOpenState]);\n  const anchorRef = useProvidedRefOrCreate(externalAnchorRef);\n  const renderMenuAnchor = useMemo(() => {\n    if (renderAnchor === null) {\n      return null;\n    }\n\n    return props => {\n      var _selectedItem$text;\n\n      return renderAnchor({ ...props,\n        children: (_selectedItem$text = selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.text) !== null && _selectedItem$text !== void 0 ? _selectedItem$text : placeholder\n      });\n    };\n  }, [placeholder, renderAnchor, selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.text]);\n  const itemsToRender = useMemo(() => {\n    return items.map(item => {\n      return { ...item,\n        role: 'option',\n        selected: item === selectedItem,\n        onAction: (itemFromAction, event) => {\n          var _item$onAction;\n\n          (_item$onAction = item.onAction) === null || _item$onAction === void 0 ? void 0 : _item$onAction.call(item, itemFromAction, event);\n\n          if (event.defaultPrevented) {\n            return;\n          }\n\n          onClose();\n          onChange === null || onChange === void 0 ? void 0 : onChange(item === selectedItem ? undefined : item);\n        }\n      };\n    });\n  }, [items, onChange, onClose, selectedItem]);\n  return /*#__PURE__*/React.createElement(AnchoredOverlay, {\n    renderAnchor: renderMenuAnchor,\n    anchorRef: anchorRef,\n    open: combinedOpenState,\n    onOpen: onOpen,\n    onClose: onClose,\n    overlayProps: overlayProps\n  }, /*#__PURE__*/React.createElement(List, _extends({}, listProps, {\n    role: \"listbox\",\n    items: itemsToRender\n  })));\n}\nDropdownMenu.displayName = \"DropdownMenu\";\nDropdownMenu.displayName = 'DropdownMenu';"]},"metadata":{},"sourceType":"module"}